(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{304:function(t,e,n){"use strict";var o={components:{commonHeader:f},methods:{}},r=n(53),c=n(77),l=n.n(c),d=n(311),h=n(117),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",fixed:"",bottom:"",right:"",color:"teal"},on:{click:function(e){return t.$nuxt.$emit("drawerView")}}},[n("v-icon",{attrs:{dark:""}},[t._v("mdi-format-list-bulleted-square")])],1)}),[],!1,null,null,null),f=e.a=component.exports;l()(component,{VBtn:d.a,VIcon:h.a})},546:function(t,e,n){"use strict";n.r(e);var o=n(304),r=n(73),c={components:{commonHeader:o.a},data:function(){return{loading:!1,pwShow:!1,isLogin:!1,user:{id:"banba@f-logic.jp",pw:"Dancerksk307"},activeUserId:""}},computed:{db:function(){return r.a.firestore()}},mounted:function(){this.checkLoginUser()},methods:{login:function(){console.log("auth!!"),this.loading=!0,r.a.auth().signInWithEmailAndPassword(this.user.id,this.user.pw).then(function(t){console.log("login:success",t),this.isLogin=!0}.bind(this)).catch(function(t){console.log("error",t)}.bind(this)).then(function(){this.loading=!1}.bind(this))},logout:function(){this.loading=!0,r.a.auth().signOut().then(function(){console.log("logout:success"),this.isLogin=!1,this.activeUserId=""}.bind(this)).catch((function(t){console.log("error",t)})).then(function(){this.loading=!1}.bind(this))},regist:function(){console.log("regist"),this.loading=!0,r.a.auth().createUserWithEmailAndPassword(this.user.id,this.user.pw).then(function(data){console.log("create user:success",data),console.log(data.user.email),this.setUser(data.user.email)}.bind(this)).catch((function(t){console.log("error",t)})).then(function(){this.loading=!1}.bind(this))},setUser:function(t){console.log("setUser"),this.loading=!0,this.db.collection("users").doc(t).set({dateCreate:r.a.firestore.Timestamp.now(),dateLatest:r.a.firestore.Timestamp.now()}).then((function(t){console.log("Document written with ID: ",t)})).catch((function(t){console.error("Error adding document: ",t)})).then(function(){this.loading=!1}.bind(this))},checkLoginUser:function(){console.log("checkLoginUser"),this.loading=!0,r.a.auth().onAuthStateChanged(function(t){t?(console.log("signin",t.email,t),this.isLogin=!0,this.activeUserId=t.email):console.log("no signin"),this.loading=!1}.bind(this))},update:function(){console.log("update"),this.db.collection("users").doc(this.user.id).update({dateLatest:r.a.firestore.Timestamp.now()}).then((function(t){console.log("update:success ",t)})).catch((function(t){console.error("Error update : ",t)})).then(function(){this.loading=!1}.bind(this))},get:function(){this.db.collection("users").doc(this.user.id).get().then((function(t){console.log("getUser: ",t.id);var e=t.data().dateLatest;console.log(e.toDate())}))},set:function(){this.db.collection("users").doc("one").set({first:"aaaa",middle:"Mathison",last:"Turing",born:1912}).then((function(t){console.log("Document written with ID: ",t)})).catch((function(t){console.error("Error adding document: ",t)}))}}},l=n(53),d=n(77),h=n.n(d),f=n(311),m=n(117),v=n(120),w=n(302),_=n(553),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pa-1"},[n("commonHeader"),n("v-overlay",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[n("v-progress-circular",{attrs:{size:50,indeterminate:""}})],1),n("p",[n("v-btn",{attrs:{href:"https://qiita.com/_takeshi_24/items/3ee051e1db1b3e8da106#firebase%E3%81%AE%E8%A8%AD%E5%AE%9A",color:"primary",target:"_blank"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-link-variant")]),n("span",[t._v("参考サイト")])],1)],1),n("p",[t._v("参考サイトの「Firebaseの設定」～「Hosting」までを参考にFirebaseを設定する。")]),n("p",[t._v("参考サイトの「NuxtとFirebaseを連携」を参考に .env、firebase.js、auth.js ファイルを作成する。")]),n("p",[n("v-text-field",{attrs:{label:"ID",clearable:""},model:{value:t.user.id,callback:function(e){t.$set(t.user,"id",e)},expression:"user.id"}}),n("v-text-field",{attrs:{label:"Password",clearable:"","append-icon":t.pwShow?"mdi-eye":"mdi-eye-off",type:t.pwShow?"text":"password"},on:{"click:append":function(e){t.pwShow=!t.pwShow}},model:{value:t.user.pw,callback:function(e){t.$set(t.user,"pw",e)},expression:"user.pw"}})],1),n("p",[t._v(t._s(t.isLogin?"ログイン中":"未ログイン")+" : "+t._s(t.activeUserId))]),n("p",[n("v-btn",{on:{click:function(e){return t.login()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-login")]),n("span",[t._v("ログイン")])],1),n("v-btn",{on:{click:function(e){return t.checkLoginUser()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-login")]),n("span",[t._v("ログインチェック")])],1),n("v-btn",{on:{click:function(e){return t.logout()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-logout")]),n("span",[t._v("ログアウト")])],1),n("v-btn",{on:{click:function(e){return t.regist()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-account-plus")]),n("span",[t._v("新規登録")])],1)],1),n("p",[n("v-btn",{attrs:{href:"https://firebase.google.com/docs/firestore/manage-data/add-data?hl=ja",color:"primary",target:"_blank"}},[n("span",[t._v("【公式】Firestoreデータ追加方法")])])],1),n("p",[n("v-btn",{attrs:{href:"https://firebase.google.com/docs/firestore/security/rules-conditions?hl=ja",color:"primary",target:"_blank"}},[n("span",[t._v("【公式】Cloud Firestore ルール記述")])])],1),n("p",[n("v-btn",{attrs:{href:"https://qiita.com/wancoro/items/1e4ad4f08719989afea0",color:"primary",target:"_blank"}},[n("span",[t._v("Cloud Firestore ルールの書き方参考")])])],1),n("p",[n("v-btn",{on:{click:function(e){return t.get()}}},[t._v("読込")]),n("v-btn",{on:{click:function(e){return t.update()}}},[t._v("更新")])],1),n("p",[n("v-btn",{attrs:{href:"https://www.topgate.co.jp/firebase04-firebase-hosting-deploy-website",color:"primary",target:"_blank"}},[n("span",[t._v("Firestore ホスティング")])])],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:f.a,VIcon:m.a,VOverlay:v.a,VProgressCircular:w.a,VTextField:_.a})}}]);